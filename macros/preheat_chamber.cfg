[gcode_macro PREHEAT_CHAMBER]
gcode:
  {% set bed = params.BED|default(60)|int %}
  {% set extruder = params.EXTRUDER|default(150)|int %}
  {% set x_park = printer.toolhead.axis_maximum.x|float / 2.0 %}
  {% set y_park = printer.toolhead.axis_maximum.y|float / 2.0 %}

  orange
  M117 Preheat Start
  G0 Z20 F600                                                             # Move nozzle to a safe travel height
  G0 X{x_park} Y{y_park} Z20 F12000                                       # Go to center of 300 x 300 bed
  M117 Heating ~bed~ {bed}~degrees~
  M190 S{bed}                     
  M117 Heating ~extruder~ {extruder}~degrees~                             # set bed temp and wait for it reach temp
  M109 S{extruder}                                                        # M109 heat and wait for it to reach temp

  blue
  M117 Preheat Done
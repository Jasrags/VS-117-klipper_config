[delayed_gcode DELAY_INIT_NEOPIXEL]
initial_duration: 1
gcode:
    variables 
    {% set neopixel_startup_color = printer['gcode_macro _PRINTER_VARIABLE'].neopixel_startup_color|default("off")|lower %}
    features
    {% set ena_debug = printer.save_variables.variables.debug|default("false")|lower %}

    {% if ena_debug == "true" %}
        {action_respond_info("==== DELAY_INIT_NEOPIXEL ====")}
        {action_respond_info("neopixel_startup_color: '%s'" % (neopixel_startup_color))}
        {action_respond_info('==================================')}
    {% endif %}

    SET_LED_COLOR NAME="{neopixel_startup_color}" 

[gcode_macro red]
gcode:
    SET_LED_COLOR NAME="red" 

[gcode_macro orange]
gcode:
    SET_LED_COLOR NAME="orange" 

[gcode_macro green]
gcode:
    SET_LED_COLOR NAME="green" 

[gcode_macro blue]
gcode:
    SET_LED_COLOR NAME="blue" 

[gcode_macro white]
gcode:
    SET_LED_COLOR NAME="white" 

[gcode_macro yellow]
gcode:
    SET_LED_COLOR NAME="yellow" 

[gcode_macro purple]
gcode:
    SET_LED_COLOR NAME="purple" 

[gcode_macro LED_OFF]
gcode:
    SET_LED_COLOR NAME="off" 
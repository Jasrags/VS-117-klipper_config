[gcode_macro PARK]
description: Park bed for heatsoaking
default_parameter_FORCE: 0
gcode:
  {% set x_park = printer.toolhead.axis_maximum.x|float * 0.50 %}
  {% set y_park = printer.toolhead.axis_maximum.y|float * 0.50 %}
  {% set z_park = 30 %}

  {% if printer.idle_timeout.state != "Printing" or FORCE|int == 1 %}
    CG28                           ; Home if not already homed
    G90                            ; absolute positioning
    G0 X{x_park} Y{y_park} Z{z_park} F5000        ; Move to position
  {% else %}
    { action_respond_info("PARK disabled while printing!") }
  {% endif %}
